# CHAPTER 4

### 내부 빈

빈 의존 관계를 여러 빈이 공유하지 않는다면 의존 관계를 내부 빈으로 만드는 것을 고려할 수 있다.내부 빈은 스프링의 <beans>스키마에 정의된 빈을 사용해 <property> 나 <constructor-arg>앨리먼트 내부에 정의한 빈을 뜻한다. 정의한 내부 빈은 해당 내부 빈 정의를 둘러싸고 있는 빈 정의 안에서만 접근 가능하다.

### depends-on 속성을 통해 빈 초기화 순서 제어하기

빈 의존 관계가 암시적인 경우에 depends-on 속성을 활용해 스프링 컨테이너가 빈을 생성하는 순서를 제어 할 수 있다. 스프링 컨테이너는 depends-on이 지정한 의존 관계에 들어있는 빈이 depends-on 속성이 들어있는 빈보다 더 먼저 초기화되도록 보장한다.

암시적 의존 관계 문제 해결 방법

- 클래스 빈 정의 순서를 바꾼다.
- <bean> 엘리먼트의 depends-on속성을 사용해 빈이 다른 빈에 의존 한다고 명시한다.

### 의존 관계 자동 연결

스프링은 <property>나 <constructor-arg> 엘리먼트를 사용해 빈 의존관계를 직접 지정할 수 있지만 자동으로 빈 의존 관계를 해결하게 만들 수도 있다. 의존 관계를 스프링이 자동으로 해결하는 과정을 자동 연결이라고 한다.