# CHAPTER 7

### @Configuration과 @Bean  어노테이션으로 빈 설정

프로그램으로 스프링 빈을 설정하려면 @Configuration과 @Bean  어노테이션을 사용한다. 클래스에 @Configuration을 설정하면 클래스 안에는 @Bean을 설정한 메서드가 1개 이상이 있고, 메서드는 빈 인스턴스를 생성해 반환한다. 스프링 컨테이너는 @Bean을 설정한 메서드가 반환하는 빈 인스턴스를 관리한다.

@Bean 어노테이션에 사용할 수 있는 속성

| 속성          | 설명                                                         |
| ------------- | ------------------------------------------------------------ |
| name          | 반환하는 빈 인스턴스를 스프링 컨테이너에 등록할 때 사용하는 빈 이름이다. |
| autowire      | <bean> 엘리먼트의 autowire 속성과 같은 역할을 한다. @Bean 어노테이션을 설정한 메서드가 반환하는 빈이 다른 빈에 의존한다면, autowire 속성을 추가해서 스프링이 이름이나 타입을 바탕으로 빈 의존 관계를 자동연결 하도록 만들 수 있다. 메서드가 반환하는 빈 자동 연결은 디폴트로 비활성화된다. |
| initMethod    | <bean> 엘리먼트의 init-method 속성과 같은 역할을 한다        |
| destroyMethod | <bean> 엘리먼트의 destroy-method 속성과 같은 역할을 한다.    |

### 빈 의존관계 주입하기

자바 기반 설정을 사용할 때는 @Bean을 설정한 메서드를 사용해 빈을 만든다.

@Bean 메서드가 생성하는 빈의 의존관계를 만족시키는 방법

- 명시적으로 의존 관계를 생성해 반환하는 @Bean 메서드를 호출해서 의존 관계를 얻어온다.
- @Bean 메서드 인수로 의존 관계를 지정한다. 스프링 컨테이너는 @Bean 메서드를 호출할 때 의존관계에 대해 책임을 지며, 메서드 인수로 의존 관계를 공급한다.
- 빈 클래스에서 @Autowired @Inject @Resource 등을 사용해 의존 관계를 자동 연결한다.